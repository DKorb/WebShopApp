<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="">
<body>
<div th:fragment="scripts">
    <div th:replace="js_logout :: logout"></div>

    <script>
        $(document).ready(function () {
            $("#buttonCancel").on("click", function () {
                window.location = "[[@{/users}]]";
            });

            $("#fileImage").change(function () {
                let fileSize = this.files[0].size;
                if (fileSize > 1048576) {
                    this.setCustomValidity("You must choose an image less than 1MB");
                    this.reportValidity();
                } else {
                    this.setCustomValidity("");
                    showImageThumbnail(this);
                }
            });
        });

        function showImageThumbnail(fileInput) {
            var file = fileInput.files[0];
            var reader = new FileReader();
            reader.onload = function (e) {
                $("#thumbnail").attr("src", e.target.result);
            };

            reader.readAsDataURL(file);
        }
    </script>
</div>
</body>
</html>